<script src="https://cdn.jsdelivr.net/npm/appwrite@7.0.0"></script>

<button onclick="register()">Register Finn</button>
<button onclick="createPost()">Create Post</button>
<button onclick="login()">Login Finnus</button>

<script>
    // Init your Web SDK
    const sdk = new Appwrite();

    sdk
        .setEndpoint('https://appwrite.berlin-fn.de/v1') // Your Appwrite Endpoint
        .setProject('pixlr') // Your project ID
        ;

    function register() {
        // Register User
        sdk
            .account.create('unique()', 'finn@finn.de', 'password', 'Finnus')
            .then(response => {
                console.log(response);
            }, error => {
                console.log(error);
            });
    }

    function login() {
        let promise = sdk.account.createSession('finn@finn.de', 'password');

        promise.then(function (response) {
            console.log(response); // Success
        }, function (error) {
            console.log(error); // Failure
        });
    }

    function getPosts() {

    }

    function createPost() {
        let data = {
            title: "Neuer Post",
            user_id: "fe",
            image_id: "geriuh"
        }

        const promise = sdk.database.createDocument('posts', 'unique()', data);

        promise.then(function (response) {
            console.log(response); // Success
        }, function (error) {
            console.log(error); // Failure
        });
    }

    function createComment() {

    }

</script>